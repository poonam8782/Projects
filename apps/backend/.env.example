# Backend environment variables
# Copy this to .env in the apps/backend directory
# Or use the root .env file (recommended for monorepo)

# Supabase Configuration
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# Gemini AI Configuration (Sprint 2)
# Get your API key from Google AI Studio: https://makersuite.google.com/app/apikey
# The key is used for embedding generation (models/embedding-001)
# Rate limits: Check your quota at https://console.cloud.google.com/apis/api/generativelanguage.googleapis.com
GEMINI_API_KEY=your-gemini-api-key-here
# Primary chat/generation model (choose based on latency vs quality vs context):
# Examples:
#   gemini-2.5-flash      # Fast, good quality, large context
#   gemini-2.5-pro        # Higher reasoning, longest context (default)
#   gemini-2.5-flash-lite # Lowest latency, smaller context window
GEMINI_CHAT_MODEL=gemini-2.5-pro
# Global default max output tokens (can be overridden per call)
GEMINI_MAX_OUTPUT_TOKENS=8192

# Backend Configuration
BACKEND_URL=http://localhost:8000
CORS_ORIGINS=http://localhost:3000,http://localhost:3001

# Text Extraction (Sprint 1)
# The backend uses PyMuPDF (PDF), python-docx (DOCX), and pytesseract (images)
# For image OCR, Tesseract must be installed on the system:
#   macOS: brew install tesseract
#   Ubuntu: sudo apt-get install tesseract-ocr
#   Windows: Download from https://github.com/UB-Mannheim/tesseract/wiki
# Verify: tesseract --version

# Text Chunking (Sprint 2)
# Default: 1000 tokens per chunk with 200 token overlap
# These can be overridden via environment variables if needed:
# CHUNK_SIZE=1000
# CHUNK_OVERLAP=200
# TIKTOKEN_ENCODING=cl100k_base

# Content Generation (Sprint 4)
# Gemini is used to generate notes (markdown), mindmaps (SVG), flashcards, synthesis
# Default model now configurable via GEMINI_CHAT_MODEL (defaults to gemini-2.5-pro for longest context)
# Temperature: 0.3 for notes (factual), 0.5 for mindmaps (creative layout)
# Max output tokens: notes 4096, mindmaps/synthesis up to 8192 (bounded by GEMINI_MAX_OUTPUT_TOKENS)
# SVG sanitization: bleach with allowlist (removes XSS vectors)

# Flashcard Spaced Repetition (Sprint 5)
# SM-2 algorithm parameters (hardcoded in sm2.py, can be made configurable if needed):
# MIN_EFACTOR=1.3          # Minimum easiness factor
# DEFAULT_EFACTOR=2.5      # Initial easiness factor for new cards
# PASSING_QUALITY=3        # Minimum quality rating to pass (0-5 scale)
# First review: 1 day, Second review: 6 days, Subsequent: interval * efactor

# For production, set these as environment variables in your deployment platform
# (Render, Railway, Fly.io, etc.)
